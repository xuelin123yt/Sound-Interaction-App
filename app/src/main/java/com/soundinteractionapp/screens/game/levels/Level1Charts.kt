package com.soundinteractionapp.screens.game.levels

import androidx.compose.ui.graphics.Color
import com.soundinteractionapp.R

// ----------------------------------------------------------------------
// 1. 資料模型
// ----------------------------------------------------------------------
data class Note(val id: Long, val targetTime: Long, var isHit: Boolean = false)

// ----------------------------------------------------------------------
// 2. 難度設定 (新增 duration: 歌曲總長度)
// ----------------------------------------------------------------------
enum class Difficulty(
    val label: String,
    val color: Color,
    val speed: Float,
    val scoreId: Int,
    val musicResId: Int,
    val duration: Long, // ★ 新增：歌曲總長度 (毫秒)
    val chartData: List<Note>
) {
    // 簡單 (Fur Elise) - 譜面約 75秒
    EASY("簡單", Color(0xFF81C784), 0.35f, 11, R.raw.fur_elise, 76000L, LEVEL1_EASY_CHART),

    // 普通 (Canon) - 譜面約 95秒
    NORMAL("普通", Color(0xFF4FC3F7), 0.5f, 12, R.raw.canon, 96000L, LEVEL1_NORMAL_CHART),

    // 困難 (Rondo Alla Turca) - 譜面約 90秒
    HARD("困難", Color(0xFFFF8A65), 0.7f, 13, R.raw.rondo_alla_turca, 91000L, LEVEL1_HARD_CHART)
}

// ----------------------------------------------------------------------
// 3. 譜面資料庫 (保持不變)
// ----------------------------------------------------------------------

// ★ 簡單模式 (Fur Elise)
val LEVEL1_EASY_CHART = listOf(
    Note(1, 317), Note(2, 680), Note(3, 1179), Note(4, 1497), Note(5, 1814),
    Note(6, 2086), Note(7, 2358), Note(8, 2676), Note(9, 2948), Note(10, 4036),
    Note(11, 4354), Note(12, 4626), Note(13, 5760), Note(14, 5986), Note(15, 6259),
    Note(16, 7483), Note(17, 7755), Note(18, 8118), Note(19, 8481), Note(20, 8798),
    Note(21, 9070), Note(22, 9388), Note(23, 9615), Note(24, 9887), Note(25, 10884),
    Note(26, 11156), Note(27, 11383), Note(28, 12562), Note(29, 12789), Note(30, 13107),
    Note(31, 15238), Note(32, 15646), Note(33, 15873), Note(34, 16145), Note(35, 16508),
    Note(36, 16780), Note(37, 17098), Note(38, 17324), Note(39, 17596), Note(40, 18639),
    Note(41, 18866), Note(42, 19138), Note(43, 20181), Note(44, 20408), Note(45, 20635),
    Note(46, 21814), Note(47, 22177), Note(48, 22494), Note(49, 22857), Note(50, 23129),
    Note(51, 23401), Note(52, 23628), Note(53, 23855), Note(54, 24082), Note(55, 25170),
    Note(56, 25397), Note(57, 25624), Note(58, 26712), Note(59, 26984), Note(60, 27347),
    Note(61, 28345), Note(62, 28617), Note(63, 28844), Note(64, 29887), Note(65, 30113),
    Note(66, 30295), Note(67, 31156), Note(68, 31429), Note(69, 31701), Note(70, 32834),
    Note(71, 33107), Note(72, 33424), Note(73, 34694), Note(74, 35147), Note(75, 35646),
    Note(76, 35918), Note(77, 36281), Note(78, 36780), Note(79, 37143), Note(80, 37415),
    Note(81, 37732), Note(82, 38005), Note(83, 38277), Note(84, 38549), Note(85, 38866),
    Note(86, 39138), Note(87, 39410), Note(88, 39773), Note(89, 40272), Note(90, 40590),
    Note(91, 40907), Note(92, 41315), Note(93, 42449), Note(94, 42721), Note(95, 42948),
    Note(96, 43900), Note(97, 44172), Note(98, 44444), Note(99, 45624), Note(100, 45986),
    Note(101, 46304), Note(102, 46576), Note(103, 46848), Note(104, 47075), Note(105, 47347),
    Note(106, 47574), Note(107, 47846), Note(108, 48707), Note(109, 48980), Note(110, 49206),
    Note(111, 50249), Note(112, 50476), Note(113, 50794), Note(114, 51837), Note(115, 52063),
    Note(116, 52290), Note(117, 53379), Note(118, 53560), Note(119, 53741), Note(120, 54739),
    Note(121, 54921), Note(122, 55147), Note(123, 56145), Note(124, 56372), Note(125, 56599),
    Note(126, 57778), Note(127, 58095), Note(128, 58685), Note(129, 59138), Note(130, 59592),
    Note(131, 60091), Note(132, 60454), Note(133, 60771), Note(134, 61043), Note(135, 61361),
    Note(136, 61678), Note(137, 61905), Note(138, 62132), Note(139, 62404), Note(140, 62812),
    Note(141, 63175), Note(142, 63537), Note(143, 63946), Note(144, 64354), Note(145, 65624),
    Note(146, 65941), Note(147, 66168), Note(148, 67256), Note(149, 67483), Note(150, 67710),
    Note(151, 68934), Note(152, 69297), Note(153, 69660), Note(154, 69977), Note(155, 70204),
    Note(156, 70431), Note(157, 70658), Note(158, 70884), Note(159, 71111), Note(160, 72154),
    Note(161, 72381), Note(162, 72653), Note(163, 73515), Note(164, 73832), Note(165, 74240),
    Note(166, 74694)
)

// ★ 普通模式 (Canon) - 1分30秒版本
val LEVEL1_NORMAL_CHART = listOf(
    Note(1, 2449), Note(2, 4444), Note(3, 6667), Note(4, 8844), Note(5, 11020),
    Note(6, 13333), Note(7, 15556), Note(8, 17732), Note(9, 19955), Note(10, 22268),
    Note(11, 24580), Note(12, 26848), Note(13, 29070), Note(14, 31202), Note(15, 33424),
    Note(16, 35556), Note(17, 37914), Note(18, 40136), Note(19, 42222), Note(20, 44444),
    Note(21, 46440), Note(22, 48662), Note(23, 50748), Note(24, 52971), Note(25, 55193),
    Note(26, 56100), Note(27, 57143), Note(28, 58095), Note(29, 59138), Note(30, 60181),
    Note(31, 61088), Note(32, 62177), Note(33, 63084), Note(34, 64127), Note(35, 65079),
    Note(36, 66077), Note(37, 66893), Note(38, 67891), Note(39, 68889), Note(40, 69841),
    Note(41, 70748), Note(42, 71202), Note(43, 71701), Note(44, 72200), Note(45, 72608),
    Note(46, 73016), Note(47, 73515), Note(48, 73923), Note(49, 74422), Note(50, 74830),
    Note(51, 75238), Note(52, 75692), Note(53, 76145), Note(54, 76553), Note(55, 77007),
    Note(56, 77460), Note(57, 77914), Note(58, 78367), Note(59, 78776), Note(60, 79229),
    Note(61, 79683), Note(62, 80136), Note(63, 80590), Note(64, 80998), Note(65, 81451),
    Note(66, 81905), Note(67, 82358), Note(68, 82812), Note(69, 83311), Note(70, 83719),
    Note(71, 84127), Note(72, 84580), Note(73, 85034), Note(74, 85488), Note(75, 85896),
    Note(76, 86349), Note(77, 86803), Note(78, 87211), Note(79, 87664), Note(80, 88073),
    Note(81, 88526), Note(82, 88934), Note(83, 89342), Note(84, 89796), Note(85, 90249),
    Note(86, 90703), Note(87, 91111), Note(88, 91565), Note(89, 92018), Note(90, 92472),
    Note(91, 92880), Note(92, 93243), Note(93, 93696), Note(94, 94104), Note(95, 94558),
    Note(96, 94966)
)

// ★ 困難模式 (Rondo Alla Turca) - 土耳其進行曲專用譜面
val LEVEL1_HARD_CHART = listOf(
    Note(1, 1980), Note(2, 2150), Note(3, 2320), Note(4, 2490),
    Note(5, 3350), Note(6, 3520), Note(7, 3690), Note(8, 3860),
    Note(9, 4720), Note(10, 4890), Note(11, 5060), Note(12, 5230),
    Note(13, 6080), Note(14, 6250), Note(15, 6420), Note(16, 6590),
    Note(17, 7450), Note(18, 7620), Note(19, 7790), Note(20, 7960),
    Note(21, 8820), Note(22, 9150), Note(23, 9480), Note(24, 9810),
    Note(25, 10170), Note(26, 10500), Note(27, 10830), Note(28, 11160),
    Note(29, 11520), Note(30, 11850), Note(31, 12180), Note(32, 12510),
    Note(33, 12900), Note(34, 13070), Note(35, 13240), Note(36, 13410),
    Note(37, 14260), Note(38, 14430), Note(39, 14600), Note(40, 14770),
    Note(41, 15630), Note(42, 15800), Note(43, 15970), Note(44, 16140),
    Note(45, 17000), Note(46, 17170), Note(47, 17340), Note(48, 17510),
    Note(49, 18360), Note(50, 18530), Note(51, 18700), Note(52, 18870),
    Note(53, 19730), Note(54, 20060), Note(55, 20390), Note(56, 20720),
    Note(57, 21080), Note(58, 21410), Note(59, 21740), Note(60, 22070),
    Note(61, 22430), Note(62, 22760), Note(63, 23090), Note(64, 23420),
    Note(65, 23810), Note(66, 24150), Note(67, 24490), Note(68, 24830),
    Note(69, 25170), Note(70, 25510), Note(71, 25850), Note(72, 26190),
    Note(73, 26530), Note(74, 26870), Note(75, 27210), Note(76, 27550),
    Note(77, 27890), Note(78, 28230), Note(79, 28570), Note(80, 28910),
    Note(81, 29250), Note(82, 29590), Note(83, 29930), Note(84, 30270),
    Note(85, 30610), Note(86, 30950), Note(87, 31290), Note(88, 31630),
    Note(89, 31970), Note(90, 32310), Note(91, 32650), Note(92, 32990),
    Note(93, 33330), Note(94, 33670), Note(95, 34010), Note(96, 34350),
    Note(97, 34700), Note(98, 34870), Note(99, 35040), Note(100, 35210),
    Note(101, 36060), Note(102, 36230), Note(103, 36400), Note(104, 36570),
    Note(105, 37420), Note(106, 37590), Note(107, 37760), Note(108, 37930),
    Note(109, 38780), Note(110, 38950), Note(111, 39120), Note(112, 39290),
    Note(113, 40150), Note(114, 40320), Note(115, 40490), Note(116, 40660),
    Note(117, 41520), Note(118, 41850), Note(119, 42180), Note(120, 42510),
    Note(121, 42870), Note(122, 43200), Note(123, 43530), Note(124, 43860),
    Note(125, 44220), Note(126, 44550), Note(127, 44880), Note(128, 45210),
    Note(129, 45570), Note(130, 45740), Note(131, 45910), Note(132, 46080),
    Note(133, 46930), Note(134, 47100), Note(135, 47270), Note(136, 47440),
    Note(137, 48290), Note(138, 48460), Note(139, 48630), Note(140, 48800),
    Note(141, 49650), Note(142, 49820), Note(143, 49990), Note(144, 50160),
    Note(145, 51010), Note(146, 51180), Note(147, 51350), Note(148, 51520),
    Note(149, 52380), Note(150, 52710), Note(151, 53040), Note(152, 53370),
    Note(153, 53730), Note(154, 54060), Note(155, 54390), Note(156, 54720),
    Note(157, 55080), Note(158, 55410), Note(159, 55740), Note(160, 56070),
    Note(161, 56430), Note(162, 56600), Note(163, 56770), Note(164, 56940),
    Note(165, 57790), Note(166, 57960), Note(167, 58130), Note(168, 58300),
    Note(169, 59150), Note(170, 59320), Note(171, 59490), Note(172, 59660),
    Note(173, 60510), Note(174, 60680), Note(175, 60850), Note(176, 61020),
    Note(177, 61870), Note(178, 62040), Note(179, 62210), Note(180, 62380),
    Note(181, 63240), Note(182, 63570), Note(183, 63900), Note(184, 64230),
    Note(185, 64590), Note(186, 64920), Note(187, 65250), Note(188, 65580),
    Note(189, 65940), Note(190, 66270), Note(191, 66600), Note(192, 66930),
    Note(193, 67290), Note(194, 67620), Note(195, 67950), Note(196, 68280),
    Note(197, 68620), Note(198, 68960), Note(199, 69300), Note(200, 69640),
    Note(201, 69980), Note(202, 70320), Note(203, 70660), Note(204, 71000),
    Note(205, 71340), Note(206, 71680), Note(207, 72020), Note(208, 72360),
    Note(209, 72700), Note(210, 73040), Note(211, 73380), Note(212, 73720),
    Note(213, 74060), Note(214, 74400), Note(215, 74740), Note(216, 75080),
    Note(217, 75420), Note(218, 75760), Note(219, 76100), Note(220, 76440),
    Note(221, 76780), Note(222, 77120), Note(223, 77460), Note(224, 77800),
    Note(225, 78150), Note(226, 78320), Note(227, 78490), Note(228, 78660),
    Note(229, 79510), Note(230, 79680), Note(231, 79850), Note(232, 80020),
    Note(233, 80870), Note(234, 81040), Note(235, 81210), Note(236, 81380),
    Note(237, 82230), Note(238, 82400), Note(239, 82570), Note(240, 82740),
    Note(241, 83590), Note(242, 83760), Note(243, 83930), Note(244, 84100),
    Note(245, 84960), Note(246, 85290), Note(247, 85620), Note(248, 85950),
    Note(249, 86310), Note(250, 86640), Note(251, 86970), Note(252, 87300),
    Note(253, 87660), Note(254, 87990), Note(255, 88320), Note(256, 88650),
    Note(257, 89010), Note(258, 89340), Note(259, 89670), Note(260, 90000)
)